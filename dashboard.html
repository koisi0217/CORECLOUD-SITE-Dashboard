<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>CoreCloud | Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500;700&display=swap" rel="stylesheet">
<style>
body{margin:0;background:#f5f6f7;font-family:"Noto Sans JP",sans-serif;}
header{height:70px;background:white;display:flex;
align-items:center;justify-content:space-between;padding:0 24px;}
.guilds{display:grid;grid-template-columns:repeat(auto-fill,120px);gap:20px;padding:40px;}
.guild{text-align:center;}
.guild img{width:80px;height:80px;border-radius:20px;}
</style>
</head>
<body>

<header>
  <div>CoreCloud</div>
  <div id="user"></div>
</header>

<div class="guilds" id="guilds"></div>

<script>
fetch("/api/me")
.then(r=>r.json())
.then(data=>{
  document.getElementById("user").textContent = data.user.username;
  const g = document.getElementById("guilds");
  data.guilds.forEach(s=>{
    g.innerHTML += `
      <div class="guild">
        <img src="https://cdn.discordapp.com/icons/${s.id}/${s.icon}.png">
        <div>${s.name}</div>
      </div>
    `;
  });
});
</script>

</body>
</html>
